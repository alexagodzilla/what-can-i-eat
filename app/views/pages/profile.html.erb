<div class="container">
  <h2>Bookmarks</h2>
  <% if @user_bookmarks.empty? %>
    <h3>No bookmarks</h3>
  <% else %>
  <ul style="list-style-type: none; padding: 0">
    <% @user_bookmarks.each do |bookmark| %>
      <li>
        <%= link_to bookmark_path(bookmark), data: { turbo_method: :delete,
        turbo_confirm: "Are you sure you want to remove this bookmark?" } do %>
          <i class="fa-solid fa-bookmark me-1"></i>
        <% end %>
        <%= link_to bookmark.recipe.title, recipe_path(bookmark.recipe) %>
      </li>
    <% end %>
  </ul>
  <% end %>

  <h2>Ingredients</h2>
  <%= form_with(model: @user_ingredient) do |f| %>
    <%= f.label :ingredient_id, "*Add ingredient  " %>
    <%= f.collection_select :ingredient_id, Ingredient.order(:name), :id, :name %>
    <%= f.submit "Submit" %>
  <% end %>
  <% if @user_ingredients.empty? %>
    <p>No ingredients yet..</p>
  <% else %>
  <ul style="list-style-type: none; padding: 0; margin-top: 10px;">
    <% @user_ingredients.each do |ingredient| %>
    <% db_ingredient = Ingredient.find(ingredient.ingredient_id) %>
      <li>
        <%= link_to user_ingredient_path(ingredient), data: { turbo_method: :delete,
        turbo_confirm: "Are you sure you want to delete your ingredient?" } do %>
          <i class="fa-regular fa-circle-xmark me-1"></i>
        <% end %>
        <%= db_ingredient.name %>
        <strong><%= truncate_zero(ingredient.quantity) if ingredient.quantity.present? %><%= db_ingredient.quantity_unit if ingredient.quantity.present? %></strong>
      </li>
    <% end %>
  <% end %>
  </ul>
  <%= link_to "go to chat", chatroom_path(@chatroom), class: "btn btn-primary" %>
</div>
